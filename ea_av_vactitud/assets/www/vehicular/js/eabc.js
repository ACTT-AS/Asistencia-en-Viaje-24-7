function _generateID(){for(var e,n=(new Date,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t=0,o="",a=0;2>a;a++){for(var r=0;8>r;r++){n=_scramble(n);var i=(new Date).valueOf();for(i=_scramble(i.toString());parseInt(i)>n.length;){t=parseInt(10*Math.random(10));for(var c=0;c<i.length;c++)t+=parseInt(i[c]);i=""+t}o+=n.charAt(i)}o+="-"}return e=new Date,o.substring(0,o.length-1)}function _scramble(e){for(var n=e.split(""),t="";n.length;)t+=n.splice(Math.floor(Math.random()*n.length),1)[0];return t}var myLocalStorage=window.localStorage,EAB={properties:{eabServer:"apps.actitudtecnologia.cl",eabPort:8e3},defaultOptions:{onConnectionLost:function(e){console.log("Disconnected: "+e)}},client:{}};EAB.init=function(){},EAB.dialog=function(e){switch(e.type){case 1:$("#EABDialog").html(e.data).show()}},EAB.sync=function(){var e=JSON.parse(myLocalStorage.getItem("EAB"))||{clientId:"-1",sessionId:"-1"};return("-1"==e.clientId||void 0==e.clientId)&&(console.log("Creando ID de Cliente"),e.clientId=_generateID()),myLocalStorage.setItem("EAB",JSON.stringify(e)),console.log(e),e},EAB.createClient=function(e){var n;return e&&-1!=e||(e=_generateID()),EAB.clientId=e,n=new Paho.MQTT.Client(EAB.properties.eabServer,EAB.properties.eabPort,e),n.onConnectionLost=EAB.defaultOptions.onConnectionLost,n.onMessageDelivered=function(){},EAB.client=n,n},EAB.send=function(e){try{var n=new Paho.MQTT.Message(e.message);n.destinationName=e.topicId,n.qos=2,e.client.send(n)}catch(t){console.log(t.stack)}},EAB.onConnectionLost=function(){},EAB.onMessageArrived=function(){},EAB.onConnect=function(){};