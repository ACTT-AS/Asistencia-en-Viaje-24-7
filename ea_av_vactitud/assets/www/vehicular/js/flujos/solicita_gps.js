var currentPage={initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){currentPage.initComunication()},initComunication:function(){$(document).ready(function(){EA.startSession();var a=window.localStorage;$("#txtNombre_ass").val(a.getItem("nombre")),$("#txtRut_ass").val(a.getItem("rut")),$("#txtPatente_ass").val(a.getItem("patente")),$("#backSpl").click(function(){navigator.app.exitApp(),navigator.startApp.start("com.appcode.ea",function(a){console.log(a)},function(a){console.log("Error: "+a)})}),$("#solicitar").click(function(){console.log("Validando 2....");var a=$("#txtNombre_ass").val(),t=$("#txtRut_ass").val(),e=$("#txtPatente_ass").val();EA.validate(a)&&EA.validate(t)&&EA.validate(e)&&EA.Rut(t)?EA.solicitaAsistencia():(EA.validate(a)?$("#txtNombre_ass").css("background-color","#fff"):($("#txtNombre_ass").css("background-color","#ffebe5"),$("#txtNombre_ass").attr("placeholder","Debe ingresar Nombre")),EA.validate(t)?$("#txtRut_ass").css("background-color","#fff"):($("#txtRut_ass").css("background-color","#ffebe5"),$("#txtRut_ass").attr("placeholder","Debe ingresar Rut")),EA.validate(e)?$("#txtPatente_ass").css("background-color","#fff"):($("#txtPatente_ass").css("background-color","#ffebe5"),$("#txtPatente_ass").attr("placeholder","Debe ingresar Patente")),EA.Rut(t)?$("#txtRut_ass").css("background-color","#fff"):($("#txtRut_ass").css("background-color","#ffebe5"),$("#txtRut_ass").attr("placeholder","Debe ingresar un rut valido")))})})},gps:function(){var a=document.getElementById("map_canvas");map=plugin.google.maps.Map.getMap(a),map.setMyLocationEnabled(!0),map.setCompassEnabled(!0),map.setTrafficEnabled(!0),map.setAllGesturesEnabled(!0);var t=function(a){const t=new plugin.google.maps.LatLng(a.latLng.lat,a.latLng.lng);var e={position:t};plugin.google.maps.Geocoder.geocode(e,function(a){if(console.log("Geolocalizando mapa"),a.length){var t=a[0],e=t.position;if("undefined"==typeof t.subThoroughfare)var o="";else var o=t.subThoroughfare+", ";if("undefined"==typeof t.thoroughfare)var n="";else var n=t.thoroughfare+"";if("undefined"==typeof t.postalCode)var s="";else var s=t.postalCode+", ";var r=[o+n,t.locality||"",t.adminArea||"",s+t.country].join(", ");$("#txtDireccion_ass").val(o+n),$("#txtComuna_ass").val(t.locality||""),$("#txtCiudad_ass").val(t.adminArea+", "+t.country),map.addMarker({position:e,title:"Estas ubicado actualmente en: "+r},function(a){map.animateCamera({target:e,zoom:17},function(){a.showInfoWindow()}),map.addEventListener(plugin.google.maps.event.MAP_CLOSE,function(a){a.remove(),console.log("Borrando Markers")})})}else alert("No es posible encontrar direcci√≥n")})},e=function(a){alert("error: "+a)};map.getMyLocation(t,e),map.addEventListener(plugin.google.maps.event.MAP_CLOSE,function(){$("#map_canvas").html("")}),map.showDialog()}};currentPage.initComunication();